#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <math.h>
#define MAX 100

void bt(char matriz[MAX][MAX], int linhas, int colunas, int a, int b, int contador, int *pontos_max)
{
	char aux;
	if (a>=linhas || a<0 || b>=colunas || b<0 || matriz[a][b] == '#')
	{
		if (contador > *pontos_max)
		{
			*pontos_max = contador;
		}
		return;
	}
	if (matriz[a][b] == 'b')
	{
		contador+=1;
	}
	if (matriz[a][b] == 'p')
	{
		contador+=5;
	}
	if (matriz[a][b] == 'o')
	{
		contador+=10;
	}
	if (matriz[a][b] == 'd')
	{
		contador+=50;
	}
	aux = matriz[a][b];
	matriz[a][b] = '#';

	bt(matriz, linhas, colunas, a+1, b, contador, pontos_max);
	bt(matriz, linhas, colunas, a-1, b, contador, pontos_max);
	bt(matriz, linhas, colunas, a, b+1, contador, pontos_max);
	bt(matriz, linhas, colunas, a, b-1, contador, pontos_max);

	matriz[a][b] = aux;
}


int main()
{
	int linhas, colunas;
	int i,j;
	int pontos_max=0;
	scanf("%d%d", &linhas, &colunas);
	char matriz[linhas][colunas];
	for (i=0; i<=linhas; i++)
	{
		for (j=0; j<=colunas; j++)
		{
			scanf("%c", &matriz[i][j]);
		}
		getchar();
	}

	for(i = 0; i <= linhas; i++)
	{
		for(j = 0; j <= colunas; j++)
		{
			printf("%c", matriz[i][j]);
		}
	}

	bt(matriz, linhas, colunas, 0, 0, 0, &pontos_max);
	printf("%d\n", pontos_max);
}
